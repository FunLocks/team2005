{% extends "layout.html" %}

{% block content %}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/plugins/wordCloud.js"></script> 
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
<script>
    window.onload = function () {
        drawCharts();
    // グラフ描画
    $('#redraw').on('click', function () {
        drawCharts();
    });
    }


    function drawCharts() { 
        var jsondata =[{"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 1.0}, {"time": "09:00", "students": 0.0}, {"time": "09:30", "students": 0.0}, {"time": "10:00", "students": 0.0}, {"time": "10:30", "students": 0.0}, {"time": "11:00", "students": 13.0}, {"time": "11:30", "students": 10.0}, {"time": "12:00", "students": 10.0}, {"time": "12:30", "students": 0.0}, {"time": "13:00", "students": 0.0}, {"time": "13:30", "students": 1.0}, {"time": "14:00", "students": 0.0}, {"time": "14:30", "students": 0.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 2.0}, {"time": "16:00", "students": 2.0}, {"time": "16:30", "students": 2.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 1.0}, {"time": "18:30", "students": 2.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 2.0}, {"time": "20:00", "students": 2.0}, {"time": "20:30", "students": 2.0}, {"time": "21:00", "students": 2.0}, {"time": "21:30", "students": 2.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 0.0}, {"time": "09:00", "students": 6.0}, {"time": "09:30", "students": 5.0}, {"time": "10:00", "students": 6.0}, {"time": "10:30", "students": 6.0}, {"time": "11:00", "students": 0.0}, {"time": "11:30", "students": 2.0}, {"time": "12:00", "students": 0.0}, {"time": "12:30", "students": 1.0}, {"time": "13:00", "students": 2.0}, {"time": "13:30", "students": 3.0}, {"time": "14:00", "students": 2.0}, {"time": "14:30", "students": 2.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 2.0}, {"time": "16:00", "students": 2.0}, {"time": "16:30", "students": 2.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 1.0}, {"time": "18:00", "students": 1.0}, {"time": "18:30", "students": 1.0}, {"time": "19:00", "students": 1.0}, {"time": "19:30", "students": 1.0}, {"time": "20:00", "students": 1.0}, {"time": "20:30", "students": 1.0}, {"time": "21:00", "students": 2.0}, {"time": "21:30", "students": 1.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 1.0}, {"time": "09:00", "students": 8.0}, {"time": "09:30", "students": 7.0}, {"time": "10:00", "students": 7.0}, {"time": "10:30", "students": 8.0}, {"time": "11:00", "students": 0.0}, {"time": "11:30", "students": 0.0}, {"time": "12:00", "students": 0.0}, {"time": "12:30", "students": 1.0}, {"time": "13:00", "students": 1.0}, {"time": "13:30", "students": 2.0}, {"time": "14:00", "students": 1.0}, {"time": "14:30", "students": 1.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 2.0}, {"time": "16:00", "students": 2.0}, {"time": "16:30", "students": 1.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 1.0}, {"time": "18:30", "students": 2.0}, {"time": "19:00", "students": 1.0}, {"time": "19:30", "students": 2.0}, {"time": "20:00", "students": 1.0}, {"time": "20:30", "students": 2.0}, {"time": "21:00", "students": 2.0}, {"time": "21:30", "students": 2.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 2.0}, {"time": "09:00", "students": 5.0}, {"time": "09:30", "students": 4.0}, {"time": "10:00", "students": 4.0}, {"time": "10:30", "students": 5.0}, {"time": "11:00", "students": 0.0}, {"time": "11:30", "students": 0.0}, {"time": "12:00", "students": 0.0}, {"time": "12:30", "students": 0.0}, {"time": "13:00", "students": 1.0}, {"time": "13:30", "students": 3.0}, {"time": "14:00", "students": 1.0}, {"time": "14:30", "students": 1.0}, {"time": "15:00", "students": 1.0}, {"time": "15:30", "students": 1.0}, {"time": "16:00", "students": 1.0}, {"time": "16:30", "students": 1.0}, {"time": "17:00", "students": 1.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 2.0}, {"time": "18:30", "students": 2.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 2.0}, {"time": "20:00", "students": 2.0}, {"time": "20:30", "students": 2.0}, {"time": "21:00", "students": 2.0}, {"time": "21:30", "students": 2.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 1.0}, {"time": "09:00", "students": 12.0}, {"time": "09:30", "students": 10.0}, {"time": "10:00", "students": 12.0}, {"time": "10:30", "students": 11.0}, {"time": "11:00", "students": 3.0}, {"time": "11:30", "students": 4.0}, {"time": "12:00", "students": 2.0}, {"time": "12:30", "students": 1.0}, {"time": "13:00", "students": 2.0}, {"time": "13:30", "students": 3.0}, {"time": "14:00", "students": 2.0}, {"time": "14:30", "students": 2.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 1.0}, {"time": "16:00", "students": 1.0}, {"time": "16:30", "students": 2.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 1.0}, {"time": "18:30", "students": 1.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 2.0}, {"time": "20:00", "students": 2.0}, {"time": "20:30", "students": 1.0}, {"time": "21:00", "students": 1.0}, {"time": "21:30", "students": 1.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 2.0}, {"time": "09:00", "students": 5.0}, {"time": "09:30", "students": 3.0}, {"time": "10:00", "students": 5.0}, {"time": "10:30", "students": 4.0}, {"time": "11:00", "students": 1.0}, {"time": "11:30", "students": 1.0}, {"time": "12:00", "students": 2.0}, {"time": "12:30", "students": 2.0}, {"time": "13:00", "students": 2.0}, {"time": "13:30", "students": 3.0}, {"time": "14:00", "students": 2.0}, {"time": "14:30", "students": 2.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 2.0}, {"time": "16:00", "students": 1.0}, {"time": "16:30", "students": 2.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 2.0}, {"time": "18:30", "students": 2.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 2.0}, {"time": "20:00", "students": 1.0}, {"time": "20:30", "students": 2.0}, {"time": "21:00", "students": 1.0}, {"time": "21:30", "students": 2.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 2.0}, {"time": "09:00", "students": 12.0}, {"time": "09:30", "students": 9.0}, {"time": "10:00", "students": 11.0}, {"time": "10:30", "students": 11.0}, {"time": "11:00", "students": 2.0}, {"time": "11:30", "students": 2.0}, {"time": "12:00", "students": 2.0}, {"time": "12:30", "students": 1.0}, {"time": "13:00", "students": 2.0}, {"time": "13:30", "students": 2.0}, {"time": "14:00", "students": 2.0}, {"time": "14:30", "students": 1.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 1.0}, {"time": "16:00", "students": 2.0}, {"time": "16:30", "students": 2.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 2.0}, {"time": "18:30", "students": 2.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 1.0}, {"time": "20:00", "students": 2.0}, {"time": "20:30", "students": 1.0}, {"time": "21:00", "students": 1.0}, {"time": "21:30", "students": 1.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 2.0}, {"time": "09:00", "students": 1.0}, {"time": "09:30", "students": 0.0}, {"time": "10:00", "students": 1.0}, {"time": "10:30", "students": 1.0}, {"time": "11:00", "students": 2.0}, {"time": "11:30", "students": 2.0}, {"time": "12:00", "students": 3.0}, {"time": "12:30", "students": 3.0}, {"time": "13:00", "students": 2.0}, {"time": "13:30", "students": 2.0}, {"time": "14:00", "students": 2.0}, {"time": "14:30", "students": 2.0}, {"time": "15:00", "students": 2.0}, {"time": "15:30", "students": 1.0}, {"time": "16:00", "students": 2.0}, {"time": "16:30", "students": 2.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 2.0}, {"time": "18:30", "students": 1.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 1.0}, {"time": "20:00", "students": 2.0}, {"time": "20:30", "students": 1.0}, {"time": "21:00", "students": 2.0}, {"time": "21:30", "students": 1.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 0.0}, {"time": "09:00", "students": 0.0}, {"time": "09:30", "students": 2.0}, {"time": "10:00", "students": 0.0}, {"time": "10:30", "students": 1.0}, {"time": "11:00", "students": 9.0}, {"time": "11:30", "students": 10.0}, {"time": "12:00", "students": 11.0}, {"time": "12:30", "students": 0.0}, {"time": "13:00", "students": 20.0}, {"time": "13:30", "students": 77.0}, {"time": "14:00", "students": 84.0}, {"time": "14:30", "students": 89.0}, {"time": "15:00", "students": 4.0}, {"time": "15:30", "students": 5.0}, {"time": "16:00", "students": 3.0}, {"time": "16:30", "students": 3.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 2.0}, {"time": "18:00", "students": 2.0}, {"time": "18:30", "students": 2.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 3.0}, {"time": "20:00", "students": 3.0}, {"time": "20:30", "students": 3.0}, {"time": "21:00", "students": 3.0}, {"time": "21:30", "students": 3.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}, {"time": "00:00", "students": 0.0}, {"time": "00:30", "students": 0.0}, {"time": "01:00", "students": 0.0}, {"time": "01:30", "students": 0.0}, {"time": "02:00", "students": 0.0}, {"time": "02:30", "students": 0.0}, {"time": "03:00", "students": 0.0}, {"time": "03:30", "students": 0.0}, {"time": "04:00", "students": 0.0}, {"time": "04:30", "students": 0.0}, {"time": "05:00", "students": 0.0}, {"time": "05:30", "students": 0.0}, {"time": "06:00", "students": 0.0}, {"time": "06:30", "students": 0.0}, {"time": "07:00", "students": 0.0}, {"time": "07:30", "students": 0.0}, {"time": "08:00", "students": 0.0}, {"time": "08:30", "students": 0.0}, {"time": "09:00", "students": 3.0}, {"time": "09:30", "students": 2.0}, {"time": "10:00", "students": 3.0}, {"time": "10:30", "students": 2.0}, {"time": "11:00", "students": 109.0}, {"time": "11:30", "students": 103.0}, {"time": "12:00", "students": 94.0}, {"time": "12:30", "students": 16.0}, {"time": "13:00", "students": 0.0}, {"time": "13:30", "students": 21.0}, {"time": "14:00", "students": 12.0}, {"time": "14:30", "students": 9.0}, {"time": "15:00", "students": 0.0}, {"time": "15:30", "students": 0.0}, {"time": "16:00", "students": 0.0}, {"time": "16:30", "students": 0.0}, {"time": "17:00", "students": 2.0}, {"time": "17:30", "students": 0.0}, {"time": "18:00", "students": 2.0}, {"time": "18:30", "students": 0.0}, {"time": "19:00", "students": 2.0}, {"time": "19:30", "students": 0.0}, {"time": "20:00", "students": 2.0}, {"time": "20:30", "students": 0.0}, {"time": "21:00", "students": 2.0}, {"time": "21:30", "students": 0.0}, {"time": "22:00", "students": 0.0}, {"time": "22:30", "students": 0.0}, {"time": "23:00", "students": 0.0}, {"time": "23:30", "students": 0.0}];

        am4core.useTheme(am4themes_animated);

        // Create chart instance
        var chart = am4core.create("chartdiv",am4charts.XYChart);

        var data = jsondata;

        chart.data = data;

        var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
        categoryAxis.renderer.grid.template.location = 0;
        categoryAxis.dataFields.category = "time";

        var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
        valueAxis.tooltip.disabled = true;

        var series = chart.series.push(new am4charts.ColumnSeries());
        series.dataFields.categoryX = "time";
        series.dataFields.valueY = "students";
        series.tooltipText = "{valueY.value}";
        series.tooltip.pointerOrientation = "horizontal";
        series.columns.template.width = 0.01;

        var bullet = series.bullets.create(am4charts.CircleBullet);

        // Add chart title
        var title = chart.titles.create();
        title.text = "595教室混雑予測";
        title.fontSize = 25;
        title.marginBottom = 30;

        // Add bottom label
        var label = chart.chartContainer.createChild(am4core.Label);
        label.text = "2021/12/18";
        label.align = "center";

        chart.cursor = new am4charts.XYCursor();

        chart.scrollbarX = new am4core.Scrollbar();
        chart.scrollbarY = new am4core.Scrollbar();


        /*
        var series = chart.series.push(new am4plugins_timeline.CurveStepLineSeries());
        series.fillOpacity = 0.3;
        series.dataFields.dateX = "date";
        series.dataFields.valueY = "value";
        series.tooltipText = "{valueY}";
        series.tooltip.pointerOrientation = "vertical";
        series.tooltip.background.fillOpacity = 0.7;
        series.fill = chart.colors.getIndex(3);
        series.strokeWidth = 2;
        */

        
        //#chart.cursor = new am4charts.XYCursor();
        //#chart.cursor.xAxis = dateAxis;
        //#chart.cursor.yAxis = valueAxis;
        //#chart.cursor.lineY.disabled = true;
        
    }</script>

    <section class="section">

        <!-- グラフの描画先 -->
        <div id="chartdiv"> </div>
        <div class="has-text-centered">
            <button id="redraw" class="button is-primary is-rounded">Redraw</button>
        </div>
      </section>
{% endblock content%}